

<h3 id="no-data" ng-show="dr.error && !dr.loading" class="ng-cloak ng-hide text-center">Provider <span ng-bind="dr.doctorId"></span> Does Not Exist</h3>
<div ng-include="'./views/partials/_provider-menu.html'"></div>
<div class="text-center row" ng-show="dr.loading" style="margin:30px 0">
	<div class="col-md-2 col-md-offset-5 form-group" >
	  <object type="image/svg+xml" data="images/modio-blink-color.svg" class="logo"> Loading...</object>
	</div>
</div>

<section ng-hide="dr.loading || dr.error" class="ng-hide">
	<form id="doctor-form" ng-submit="dr.save()" name="general_info_form" class="ng-cloak">
		<div class="row">
			<div class="col-sm-12">
				<h4>Personal Data</h4>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-3">
				<label>First Name</label>
				<input type="text" class="form-control input-sm" id="first-name" placeholder="First Name" ng-model="dr.doctorData.first_name" />
			</div>
			<div class="form-group col-md-2">
				<label>Middle</label>
				<input type="text" class="form-control input-sm" id="middle-name" placeholder="Middle Name" ng-model="dr.doctorData.middle_name" />
			</div>
			<div class="col-md-3 form-group">
				<label>Last Name</label>
				<input type="text" class="form-control input-sm" id="last-name" placeholder="Last Name" ng-model="dr.doctorData.last_name">
			</div>
			<div class="col-md-2 form-group">
				<label>Title</label>
				<select class="form-control input-sm" id="doctor-title" ng-model="dr.doctorData.doctor_title" ng-options="title.key as title.fullLabel group by title.group for title in appCtrl.doctorTitles" ng-required="true"></select>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-4">
				<label>Home Address 1</label>
				<input type="text" class="form-control input-sm" placeholder="Address" ng-model="dr.doctorData.home_address">
			</div>
			<div class="form-group col-md-4">
				<label>Home Address 2</label>
				<input type="text" class="form-control input-sm" placeholder="Address 2" ng-model="dr.doctorData.home_address_2">
			</div>
			<div class="form-group col-md-2">
				<label>NPI#</label>
				<input type="text" class="form-control input-sm" ng-model="dr.doctorData.npi_number"  />
			</div>
			<div class="col-md-2 form-group">
				<label>Created</label>
				<div ng-bind="dr.doctorData.date_created"></div>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-4">
				<label>City</label>
				<input type="text" class="form-control input-sm" placeholder="City" ng-model="dr.doctorData.home_city">
			</div>
			<div class="col-md-2 form-group">
				<label>State</label>
				<select class="form-control input-sm" ng-model="dr.doctorData.home_state" ng-options="state.abbreviation as state.abbreviation for state in appCtrl.usStates"></select>
			</div>
			<div class="form-group col-md-2">
				<label>Zip</label>
				<input type="text" class="form-control input-sm" ui-mask="99999" ng-model="dr.doctorData.home_zip">
			</div>
			<div class="form-group col-md-4">
				<label for="email">Email Address</label>
				<input type="email" class="form-control input-sm" ng-model="dr.doctorData.email">
			</div>
		</div>

		<div class="row">
			<div class="col-md-4 form-group">
				<label>Account Manager</label>
				<select ng-model="dr.doctorData.account_manager" class="form-control input-sm" ng-options="man.value as man.name for man in appCtrl.accountManagers">
				</select>
			</div>
			<div class="form-group col-md-2">
				<label>Phone Number</label>
				<input type="text" class="form-control input-sm" id="home-phone" ui-mask="(999) 999-9999" ng-model="dr.doctorData.home_phone">
			</div>
			<div class="form-group col-md-4">
				<label>Text OK?</label><br />
				<input type="checkbox" ng-model="dr.doctorData.text_ok" ng-true-value="1" ng-false-value="0" />
			</div>
			<div class="form-group col-md-4" ng-if="appCtrl.userInfo.username == 'Tsaulnier@modiohealth.com'">
				<label>SSN</label><br />
				<a class="btn btn-primary" ng-click="dr.ssn.show = true" ng-hide="dr.ssn.show">Show</a>
				<input class="ng-hide form-control input-sm" ng-click="dr.ssn.show = false" ng-hide="!dr.ssn.show" ui-mask="999-99-9999" ng-model="dr.doctorData.ssn" />
			</div>

		</div>

		<hr />
		<h4>Job Qualifications</h4>
		<div class="row">
			<div class="form-group col-md-3">
				<label>Job Type Desired</label>
				<select ng-model="dr.doctorData.job_type_desired" class="form-control input-sm">
					<option value="0">None</option>
					<option value="1">Locum</option>
					<option value="2">Permanent</option>
					<option value="3">Both</option>
				</select>
			</div>
			<div class="form-group col-md-3">
				<label>Locum Experience</label>
				<select ng-model="dr.doctorData.locum_experience" class="form-control input-sm">
					<option value="0">None</option>
					<option value="1">Low</option>
					<option value="2">High</option>
				</select>
			</div>
			<div class="form-group col-md-3">
				<label>Tier</label>
				<select ng-model="dr.doctorData.tier" class="form-control input-sm">
					<option value="0">Inactive</option>
					<option value="1">Soft Registration</option>
					<option value="2">Verified</option>
					<option value="3">Full Registration</option>
					<option value="4">Credentialed</option>
				</select>
			</div>
			<div class="form-group col-md-3">
				<label>BC/BE</label>
				<select ng-model="dr.doctorData.bc_be" class="form-control input-sm">
					<option value="">Neither</option>
					<option value="BC">BC</option>
					<option value="BE">BE</option>
				</select>
			</div>
		</div>

		<div class="row">
			<div class="form-group col-md-3">
				<label>Clinical Experience</label>
				<input type="text" ng-model="dr.doctorData.clinical_experience_years" class="form-control input-sm" />
			</div>
			<div class="form-group col-md-3">
				<label>EHR Experience</label>
				<select ng-model="dr.doctorData.ehr_experience" multiple="multiple" class="form-control input-sm">
					<option value="Allscripts">Allscripts</option>
					<option value="Athena">Athena</option>
					<option value="Care360">Care360</option>
					<option value="Centricity">Centricity</option>
					<option value="Cerner">Cerner</option>
					<option value="eClinical Works">eClinical Works</option>
					<option value="Elation">Elation</option>
					<option value="Epic">Epic</option>
					<option value="Kareo">Kareo</option>
					<option value="Practice Fusion">Practice Fusion</option>
				</select>
			</div>
			<div class="col-md-3 form-group">
				<p>
					<input type="checkbox" ng-model="dr.doctorData.overnight_call" ng-true-value="1" ng-false-value="0" />
					<label>Overnight Call</label>
				</p>
				<p>
					<input type="checkbox" ng-model="dr.doctorData.trauma_call" ng-true-value="1" ng-false-value="0" />
					<label>Trauma Call</label>
				</p>
			</div>
			<div class="col-md-3 form-group">
				<p>
					<input type="checkbox" ng-model="dr.doctorData.fmg" ng-true-value="1" ng-false-value="0" />
					<label>ECFMG</label>
				</p>
				<p>
					<input type="checkbox" ng-model="dr.doctorData.visa" ng-true-value="1" ng-false-value="0" />
					<label>Visa</label>
				</p>
				</div>
			</div>
		</div>
		<hr />
		<div class="row">
			<div class="col-sm-12">
				<h4>Internal</h4>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-4">
				<label>Admin Notes </label>&nbsp;<span ng-class="(dr.doctorData.admin_notes.length > 2000) ? 'text-danger' : 'text-success'">({{dr.doctorData.admin_notes.length || 0}} of 2000)</span>
				<textarea ng-model="dr.doctorData.admin_notes" class="form-control input-sm" rows="5"></textarea>
			</div>
			<div class="form-group col-md-4">
				<label>Sales Notes</label>&nbsp;<span ng-class="(dr.doctorData.sales.length > 2000) ? 'text-danger' : 'text-success'">({{dr.doctorData.sales_notes.length || 0}} of 2000)</span>
				<textarea ng-model="dr.doctorData.sales_notes" class="form-control input-sm" rows="5"></textarea>
			</div>
			<div class="form-group col-md-4">
				<label>Presentation</label>
				<div><strong>Job ID: </strong></div>
				<div><strong>NPI:</strong> <span ng-bind="dr.doctorData.npi_number"></span></div>
				<div ng-show="(dr.licenses | filter: {type_id: 0}).length > 0">
					<strong>License Info</strong>
					<div ng-repeat="lic in (dr.licenses | filter: {type_id: 0})">
						<span ng-bind="lic.state"></span> #<span ng-bind="lic.number"></span> <span ng-show="lic.expiration_date">Expires:</span> <span ng-bind="lic.expiration_date"></span>
					</div>
				</div>
				<div ng-show="(dr.licenses | filter: {type_id: 1}).length > 0">
					<strong>DEA Licenses</strong>
					<div ng-repeat="lic in (dr.licenses | filter: {type_id: 1})">
						#<span ng-bind="lic.number"></span> <span ng-show="lic.expiration_date">Expires:</span> <span ng-bind="lic.expiration_date"></span>
					</div>
				</div>
				<div>
					<strong>Malpractice payouts:</strong>
				</div>
				<div>
					<strong>Travel & Lodging requirement:</strong>
				</div>
				<div>
					<strong>Rate:</strong>
				</div>
				<div>
					<strong>Current situation:</strong>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-2">
				<label>Disposition</label>
				<select class="form-control input-sm" ng-options="dis.id as dis.name for dis in appCtrl.disposition" ng-model="dr.doctorData.disposition"></select>
			</div>
			<div class="form-group col-md-1">
				<label>Score</label>
				<input type="number" ng-model="dr.doctorData.score" class="form-control input-sm" max="100" min="0" />
			</div>
			<div class="form-group col-md-3">
				<label>Source</label>
				<select ng-model="dr.doctorData.source" class="form-control input-sm" ng-options="s.id as s.name for s in appCtrl.source"></select>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 text-right">
				<div class="form-group">
					<button type="button" class="btn btn-warning btn-sm" act-as="{{ dr.doctorId }}">Act As</button>
					<button type="button" class="btn btn-danger btn-sm" ng-really-message="Are you sure you want to archive this provider?" ng-really-click="dr.archive()">Remove</button>
					<button type="submit" class="btn btn-primary btn-sm" ng-disabled="general_info_form.$invalid">Submit</button>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3 col-md-offset-9">
				<div data-ng-egg data-ng-model="dr.eggActivated" data-keycode="up,up,down,down,left,right,left,right,b,a" class="clearfix">
					<img style="float:left;" src="images/dazed.gif" ng-really-message="Are you sure you want to COMPLETELY DELETE THIS USER?" ng-really-click="dr.delete()" ng-click />
					<img style="float:left;" src="images/finish.gif" ng-really-message="Are you sure you want to COMPLETELY DELETE THIS USER?" ng-really-click="dr.delete()" ng-click />
				</div>

			</div>
		</div>
	</form>
	<button class="btn btn-danger ng-hide btn-sm" ng-hide="dr.env.name != 'production'" type="button" role="button" ng-really-message="Are you sure you want to delete this user?" ng-really-click="dr.delete()">Delete Doctor</button>
</section>
