<h3>Dashboard</h3>
<div class="text-center row" ng-show="dash.loading">
	<div class="col-md-12 form-group">
	  <i class="fa fa-refresh fa-spin fa-4x"></i>
	</div>
</div>
<!--
	{
    "job_id": 1,
    "facility_name": "Sentara Virginia Beach General Hospital (Virginia Beach- VA)",
    "job_title": "General surgeon needed",
    "job_specialty": "Surgery: General",
    "JOB_TYPE": "Locum",
    "doctor_id": 5978,
    "first_name": "Angelita",
    "last_name": "Wolf",
    "dr_job_type": "Locum",
    "doctor_desired_state": "VA",
    "Licensed": 0
  },
-->
<div ng-show="!dash.loading">
	<div class="row">
		<section class="col-md-8">
			<h4>Matches</h4>
			<div class="table-responsive">
				<table class="table table-condensed table-striped table-hover">
					<thead>
						<tr>
							<th>id</th>
							<th>Facility</th>
							<th>Provider Name</th>
							<th>Licensed?</th>
							<th>Specialty</th>
							<th>Score</th>
							<th>Account Manager</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="match in dash.twoWayMatches" ng-mouseover="dash.setTooltip(match)" popover-template="dash.dynamicPopover.templateUrl" popover-title="Sales Notes" popover-trigger="mouseenter">
							<td>{{match.job_id}}</td>
							<td ng-click="appCtrl.goTo('/jobs/{{match.job_id}}')">{{match.facility_name}} {{JOB_TYPE}}</td>
							<td ng-click="appCtrl.goTo('/providers/{{match.doctor_id}}')">{{match.first_name}} {{match.last_name}} ({{match.dr_job_type}})</td>
							<td>{{ match.Licensed == 0 ? 'No' : 'Yes' }}</td>
							<td>{{match.job_specialty}}  in {{match.doctor_desired_state}}</td>
							<td>{{match.score}}</td>
							<td>{{match.account_manager}}</td>
						</tr>
					</tbody>
				</table>
			</div>	
		</section>
		<section class="col-md-4">
			<h4>Stats</h4>
			<div class="form-group">
				<label>Total Matches</label>
				<div>{{ dash.twoWayMatches.length}}</div>
			</div>
			<div class="form-group">
				<label>Specialties (last day)</label>
				<div ng-repeat="s in dash.stats.specialtyData">{{s.specialty}} ({{s.count}})</div>
			</div>
			<div class="form-group">
				<label>New Providers</label>
				<div>{{dash.stats.providerDailyTotal}}</div>
			</div>
			<div class="form-group">
				<label>Total Registered</label>
				<div>{{dash.stats.providerRegisteredTotal}}</div>
			</div>
			<div class="form-group">
				<label>Total Providers</label>
				<div>{{dash.stats.providerTotal}}</div>
			</div>
			<div class="form-group">
				<label>Offers to Date</label>
				<div>{{dash.stats.offersToDate}}</div>
			</div>
			
		</section>
	</div>
	<script type="text/ng-template" id="notes-template.html">
		<div class="form-group" ng-show="dash.tooltipSales">
			<label>Provider Notes</label>
			<div>{{dash.tooltipSales}}</div>
		</div>
		<div class="form-group" ng-show="dash.tooltipJob">
			<label>Job Notes</label>
			<div>{{dash.tooltipJob}}</div>
		</div>
		<div class="form-group" ng-show="!dash.tooltipSales && !dash.tooltipJob">
			<div>No notes.</div>
		</div>
	</script>
</div>