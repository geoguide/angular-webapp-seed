<div class="row">
	<div class="col-md-12">
		<ul class="nav nav-pills">
			<li role="presentation"><a ng-click="appCtrl.goTo('/providers/{{::dr.doctorId}}')">General Info</a></li>
			<li role="presentation"><a ng-click="appCtrl.goTo('/providers/{{::dr.doctorId}}/account-info')">Account Info</a></li>
			<li role="presentation">
				<a ng-click="appCtrl.goTo('/providers/{{::dr.doctorId}}/education-and-work')">Education &amp; Work</a>
			</li>
			<li class="active"><a>Qualifications</a></li>
			<li role="presentation"><a  ng-click="appCtrl.goTo('/providers/{{::dr.doctorId}}/tracking')">Tracking <span class="badge" ng-bind="dr.trackingData.length"></span></a></li>
			<li role="presentation"><a ng-click="appCtrl.goTo('/providers/{{::dr.doctorId}}/job-matches')">Matches <span class="badge" ng-bind="dr.matches.length"></span></a></li>
		</ul>
	</div>
</div>

<hr />


<div class="text-center row" ng-show="dr.loading">
	<div class="col-md-12 form-group">
	  <i class="fa fa-refresh fa-spin fa-4x"></i>
	</div>
</div>


<div ng-hide="dr.loading" class="ng-hide">
	<div class="row">
		<accordion close-others="false" class="col-md-6">
			<accordion-group is-open="true">
				<accordion-heading>Facility Affiliations<span class="badge pull-right" ng-bind="(dr.facilityAffiliations).length"></span></accordion-heading>
				<h5 ng-show="(dr.facilityAffiliations).length < 1" class="ng-hide text-center">No Facility Affiliations</h5>
				<div class="table table-responsive ng-hide" ng-show="(dr.facilityAffiliations).length > 0">
					<table class="table table-condensed table-striped">
						<thead>
							<th>Facility Info</th>
							<th>&nbsp;</th>
						</thead>
						<tbody>
							<tr ng-repeat="(key,obj) in dr.facilityAffiliations">
								<td>
									<strong ng-bind="obj.facility_name" ng-click="dr.openFacilityAffiliationModal('facility-affiliation-modal',obj)"></strong>
									<div ng-click="dr.openFacilityAffiliationModal('facility-affiliation-modal',obj)">
										<label>Reference: </label> <span ng-bind="obj.reference_name"></span> (<span ng-bind="obj.reference_title"></span>)
									</div>
								</td>
								<td>
									<a ng-really-message="Are you sure?" ng-really-click="dr.deleteFacilityAffiliation(obj.id)">
										<i class="fa fa-ban text-danger"></i>
									</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row">
					<div class="col-md-12 text-right">
						<button class="btn btn-primary btn-sm" ng-click="dr.openFacilityAffiliationModal('facility-affiliation-modal',{})">Add Facility Affiliation</button>
					</div>
				</div>
			</accordion-group>
		</accordion>
		<accordion close-others="false" class="col-md-6">
			<accordion-group is-open="true">
				<accordion-heading>Medical Licenses &amp; DEA <span class="badge pull-right" ng-bind="(dr.medicalLicenses).length"></span></accordion-heading>
				<h5 ng-show="(dr.medicalLicenses).length < 1" class="ng-hide text-center">No Medical Licenses</h5>
				<div class="table-responsive ng-hide" ng-show="(dr.medicalLicenses).length > 0">
					<table class="table table-condensed table-striped">
						<thead>
							<tr>
								<th>Type</th>
								<th>State</th>
								<th>Number</th>
								<th>Expires</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="(key,obj) in dr.medicalLicenses">
								<td ng-bind="dr.licenseTypes[obj.type_id] || 'unk'"></td>
								<td ng-show="obj.type_id != 1" ng-bind="obj.state || 'n/a'" ng-click="dr.openMedicalLicenseModal('medical-license-modal',obj)"></td>
								<td ng-hide="obj.type_id != 1" ng-click="dr.openMedicalLicenseModal('medical-license-modal',obj)">n/a</td>
								<td ng-bind="obj.number" ng-click="dr.openMedicalLicenseModal('medical-license-modal',obj)"></td>
								<td ng-bind="obj.expiration_date" ng-click="dr.openMedicalLicenseModal('medical-license-modal',obj)"></td>
								<td>
								<a ng-click ng-really-message="Are you sure?" ng-really-click="dr.deleteMedicalLicense(obj.id)"><i class="fa fa-ban text-danger"></i></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row">
					<div class="col-md-12 text-right">
						<button class="btn btn-primary btn-sm" ng-click="dr.openMedicalLicenseModal('medical-license-modal',{})">Add Medical License</button>
					</div>
				</div>
			</accordion-group>
		</accordion>
	</div>
	<div class="row">
		<accordion close-others="false" class="col-md-6">
			<accordion-group is-open="true">
				<accordion-heading>Clinical Evaluations<span class="badge pull-right" ng-bind="(dr.clinicalEvaluations).length"></span></accordion-heading>
					<h5 ng-show="(dr.clinicalEvaluations).length < 1" class="ng-hide text-center">No Clinical Evaluations</h5>
					<div class="table-responsive">
						<table class="table table-condensed table-striped ng-hide" ng-show="(dr.clinicalEvaluations).length > 0">
							<thead>
								<tr>
									<th>Name</th>
									<th>Specialty</th>
									<th>Email</th>
									<th>&nbsp;</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="(key,obj) in dr.clinicalEvaluations">
									<td ng-bind="obj.name" ng-click="dr.openClinicalEvaluationModal('clinical-evaluation-modal',obj)"></td>
									<td ng-bind="obj.specialty" ng-click="dr.openClinicalEvaluationModal('clinical-evaluation-modal',obj)"></td>
									<td ng-bind="obj.email" ng-click="dr.openClinicalEvaluationModal('clinical-evaluation-modal',obj)"></td>
									<td>
										<a ng-click ng-really-message="Are you sure?" ng-really-click="dr.deleteClinicalEvaluation(obj.id)"><i class="fa fa-ban text-danger"></i></a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				<div class="row">
					<div class="col-md-12 text-right">
						<button class="btn btn-primary btn-sm" ng-click="dr.openClinicalEvaluationModal('clinical-evaluation-modal',{})">Add Clinical Evaluation</button>
					</div>
				</div>
			</accordion-group>
		</accordion>
		<accordion close-others="false" class="col-md-6">
			<accordion-group is-open="true">
				<accordion-heading>Insurance <span class="badge pull-right" ng-bind="(dr.insurance).length"></span></accordion-heading>
					<h5 ng-show="(dr.insurance).length < 1" class="ng-hide text-center">No Insurance Information</h5>
					<div class="table-responsive ng-hide" ng-show="(dr.insurance).length > 0">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>Type</th>
									<th>Policy #</th>
									<th>Expires</th>
									<th>&nbsp;</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="(key,obj) in dr.insurance">
									<td ng-click="dr.openInsuranceModal('insurance-modal',obj)" ng-bind="dr.insuranceTypes[obj.type_id].name"></td>
									<td ng-click="dr.openInsuranceModal('insurance-modal',obj)" ng-bind="obj.policy_number"></td>
									<td ng-click="dr.openInsuranceModal('insurance-modal',obj)" ng-bind="obj.policy_expiration_date"></td>
									<td>
										<a ng-click ng-really-message="Are you sure?" ng-really-click="dr.deleteInsurance(obj.id)">
											<i class="fa fa-ban text-danger"></i>
										</a>
									</td>
								</article>
							</tbody>
						</table>
					</div>
				
				<div class="row">
					<div class="col-md-12 text-right">
						<button class="btn btn-primary btn-sm" ng-click="dr.openInsuranceModal('insurance-modal',{})">Add Insurance</button>
					</div>
				</div>
			</accordion-group>
		
		</accordion>
	</div>
</div>

<script type="text/ng-template" id="clinical-evaluation-modal">
	<div class="modal-header">
		<h4 class="modal-title">Add/Edit Clinical Evaluation</h4>
	</div>
	<div class="modal-body">
		<form novalidate>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Name</label>
					<input type="text" class="form-control input-sm" ng-model="modal.modalObject.name" />
				</div>
				<div class="form-group col-xs-6">
					<label>Criteria</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.criteria">
						<option value="0">Physician with whom you have shared "call"</option>
						<option value="1">Former partner</option>
						<option value="2">Physician in a referral relationship with you</option>
						<option value="3">[Surgeon] An anesthesiologist with whom you have worked frequently during at least 6 of the last 12 months</option>
						<option value="4">[Anesthesiologist] A surgeon with whom you have worked frequently in 6 of the last 12 months</option>
						<option value="5">Faculty member or other attending physician with whom you have worked for a significant period of time</option>
					</select>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Specialty</label>
					<input type="search" class="form-control input-sm" typeahead-min-length="4" typeahead-loading="loadingspec" ng-model="modal.modalObject.specialty"  typeahead="spec.specialty as spec.specialty for spec in appCtrl.querySpecialties($viewValue)" placeholder="Search Specialty..." typeahead-on-select="modal.modalObject.specialty_id = $item.id" typeahead-editable="false" ng-required="true" />
					<i ng-show="loadingspec" class="fa fa-spinner fa-pulse typeahead-loader"></i>
				</div>
				<div class="form-group col-xs-3">
					<label>Address</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.address" type="text" />
				</div>
				<div class="form-group col-xs-3">
					<label>Address 2</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.address2" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 form-group">
					<label>City</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.city" type="text" />
				</div>
				<div class="col-md-4 form-group">
					<label>State</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.state" ng-options="state.abbreviation as state.abbreviation for state in appCtrl.usStates">
					</select>
				</div>
				<div class="col-md-4 form-group">
					<label>Zip Code</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.zip" ui-mask="99999" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 form-group">
					<label>Phone</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.phone" ui-mask="(999) 999-9999" type="text" />
				</div>
				<div class="col-md-4 form-group">
					<label>Fax Number</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.fax" ui-mask="(999) 999-9999" type="text" />
				</div>
				<div class="col-md-4 form-group">
					<label>Email</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.email" type="email" />
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary btn-sm" ng-click="modal.ok()">OK</button>
		<button class="btn btn-warning btn-sm" ng-click="modal.cancel()">Cancel</button>
	</div>
</script>

<script type="text/ng-template" id="facility-affiliation-modal">
	<div class="modal-header">
		<h4 class="modal-title">Add/Edit Facility Affiliation</h4>
	</div>
	<div class="modal-body">
		<form novalidate>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Staff Category</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.staff_category">
						<option value="0">Active</option>
						<option value="1">Courtesy</option>
						<option value="2">Affiliate</option>
						<option value="3">Consulting</option>
						<option value="4">Community</option>
						<option value="5">Provisional</option>
						<option value="5">Telemedicine</option>
						<option value="6">Associate</option>
						<option value="8">Locum Tenens</option>
						<option value="9">Other</option>
					</select>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Facility</label>
					<input type="text" class="form-control input-sm" typeahead-min-length="4" typeahead-loading="loadingLocations" ng-model="modal.modalObject.facility_name" ng-required="true" typeahead="fac.facility_name as fac.facility_name for fac in modal.parentCtrl.queryFacilities($viewValue)" typeahead-on-select="modal.modalObject.facility_id = $item.id;modal.modalObject.address = $item.address;modal.modalObject.city = $item.city;modal.modalObject.zip = $item.zip;modal.modalObject.state = $item.state;modal.modalObject.tel = $item.tel;modal.modalObject.fax = $item.fax;" typeahead-editable="false" />
					<i ng-show="loadingLocations" class="fa fa-spinner fa-pulse typeahead-loader"></i>
				</div>
				<div class="form-group col-xs-3">
					<label>Primary?</label>
					<input ng-model="modal.modalObject.is_primary" type="checkbox" ng-true-value="1" ng-false-value="0" />
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Address</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.address" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 form-group">
					<label>City</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.city" type="text" />
				</div>
				<div class="col-md-4 form-group">
					<label>State</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.state" ng-options="state.abbreviation as state.abbreviation for state in appCtrl.usStates">
					</select>
				</div>
				<div class="col-md-4 form-group">
					<label>Zip Code</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.zip" ui-mask="99999" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Reference Name</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.reference_name" type="text" />
				</div>
				<div class="form-group col-xs-6">
					<label>Reference title</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.reference_title" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-6">
					<label>Start Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.start_date" is-open="modal.parentCtrl.opened['modalstart']" min-date="'01/01/1930'" max-date="modal.modalObject.end_date || appCtrl.today" ng-required="true" close-text="Close" />
	              <span class="input-group-btn btn-sm">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'modalstart')"><i class="fa fa-calendar"></i></button>
	              </span>
	            </div>
				</div>
					
				<div class="col-md-6">
					<label>End Date</label>
					<p class="input-group date-picker-group" ng-show="modal.parentCtrl.opened['modalend'] || modal.modalObject.end_date">
						<input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.end_date" is-open="modal.parentCtrl.opened['modalend']" min-date="modal.modalObject.start_date || '01/01/1930'" max-date="appCtrl.today" ng-required="false" close-text="Close" />
						<span class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="modal.parentCtrl.open($event,'modalend')"><i class="fa fa-calendar"></i></button>
						</span>
					</p>
					<button class="btn btn-success btn-block btn-sm"  ng-show="!modal.parentCtrl.opened['modalend'] && !modal.modalObject.end_date" ng-click="modal.parentCtrl.open($event,'modalend')">Ongoing</button>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Phone</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.tel" ui-mask="(999) 999-9999" type="text" />
				</div>
				<div class="form-group col-xs-6">
					<label>Fax</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.fax" ui-mask="(999) 999-9999" type="text" />
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary btn-sm" ng-click="modal.ok()">OK</button>
		<button class="btn btn-warning btn-sm" ng-click="modal.cancel()">Cancel</button>
	</div>
</script>	

<script type="text/ng-template" id="medical-license-modal">
	<div class="modal-header">
		<h4 class="modal-title">Add/Edit License</h4>
	</div>
	<div class="modal-body">
		<form novalidate name="license_form">
			<div class="row">
				<div class="col-md-6">
					<label>License Type</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.type_id" ng-required="true">
						<option>-- Select Type --</option>
						<option value="0">State License</option>
						<option value="1">DEA License</option>
						<option value="2">State Ctrl Substance</option>
					</select>
				</div>
				<div class="form-group col-xs-3"  ng-show="modal.modalObject.type_id != 1">
					<label>License State</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.state" ng-options="state.abbreviation as state.abbreviation for state in appCtrl.usStates">
					</select>
				</div>
				<div class="form-group col-xs-3">
					<label>License Number</label>
					<input type="text" class="form-control input-sm" ng-model="modal.modalObject.number" />
				</div>
			</div>
			<div class="row">
				
				<div class="form-group col-xs-6">
					<label>Issue Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.issue_date" is-open="modal.parentCtrl.opened['modalstart']" min-date="'01/01/1915'" max-date="modal.modalObject.expiration_date || appCtrl.today" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'modalstart')"><i class="fa fa-calendar"></i></button>
	              </span>
					</div>
				</div>
				<div class="form-group col-xs-6">
					<label>Expiration Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.expiration_date" is-open="modal.parentCtrl.opened['modalend']" min-date="modal.modalObject.issue_date || '01/01/1980'" max-date="'06/22/2025'" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'modalend')"><i class="fa fa-calendar"></i></button>
	              </span>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary btn-sm" ng-click="license_form.$valid && modal.ok()">OK</button>
		<button class="btn btn-warning btn-sm" ng-click="modal.cancel()">Cancel</button>
	</div>
</script>

<script type="text/ng-template" id="insurance-modal">
	<div class="modal-header">
		<h4 class="modal-title">Add/Edit Insurance</h4>
	</div>
	<div class="modal-body">
		<form novalidate>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Type</label>
					<select class="form-control input-sm" ng-model="modal.modalObject.type_id">
						<option value="0">Malpractice</option>
						<option value="1">Liability</option>
					</select>
				</div>
				<div class="form-group col-xs-6">
					<label>Policy Number</label>
					<input type="text" class="form-control input-sm" ng-model="modal.modalObject.policy_number" />
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>Policy Effective Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.policy_effective_date" is-open="modal.parentCtrl.opened['policy_effective']" min-date="'01/01/1980'" max-date="modal.modalObject.policy_expiration_date || '06/22/2025'" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'policy_effective')"><i class="fa fa-calendar"></i></button>
	              </span>
					</div>
				</div>
				<div class="form-group col-xs-6">
					<label>Policy Expiration Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.policy_expiration_date" is-open="modal.parentCtrl.opened['policy_expire']" min-date="modal.modalObject.policy_effective_date || '01/01/1980'" max-date="'06/22/2025'" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'policy_expire')"><i class="fa fa-calendar"></i></button>
	              </span>
					</div>
				</div>
				<div class="form-group col-xs-6">
					<label>Policy Retroactive Date</label>
					<div class="input-group">
	              <input  placeholder="MM/DD/YYYY" type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.retroactive_date" is-open="modal.parentCtrl.opened['retroactive_date']" min-date="'01/01/1980'" max-date="'06/22/2025'" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default btn-sm" ng-click="modal.parentCtrl.open($event,'retroactive_date')"><i class="fa fa-calendar"></i></button>
	              </span>
					</div>
				</div>
				<div class="form-group col-xs-3">
					<label>Producer</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.producer" type="text" />
				</div>
				<div class="form-group col-xs-3">
					<label>Per Incident Amt</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.per_incident_amount" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 form-group">
					<label>Annual Aggreate (sic) Amount</label>
					<input class="form-control input-sm" ng-model="modal.modalObject.annual_aggreate_amount" type="text" />
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary btn-sm" ng-click="modal.ok()">OK</button>
		<button class="btn btn-warning btn-sm" ng-click="modal.cancel()">Cancel</button>
	</div>
</script>