<section>
	
	<div id="no-data" ng-show="jobCtrl.error" class="ng-cloak">Job Not Found</div>
	<h4>{{jobCtrl.jobData.job_title}} @ {{jobCtrl.jobData.facility_name}}</h4>
	<form id="job-form" name="edit_job_form" ng-submit="jobCtrl.save()" ng-show="jobCtrl.jobData" class="ng-cloak" novalidate>
		<div class="row">
			<div class="col-md-2 form-group">
				<label>Job Type</label>
				<select name="job_type" class="form-control" ng-model="jobCtrl.jobData.job_type"  ng-required="true">
					<option value="1">Locum</option>
					<option value="2">Permanent</option>
				</select>
			</div>
			<div class="col-md-3 form-group">
				<label>Specialty</label>
				<select class="form-control" name="specialty_id" ng-model="jobCtrl.jobData.specialty_id" ng-required="true" ng-options="spec.id as spec.specialty for spec in appCtrl.specialties"></select>
			</div>
			<div class="col-md-2 form-group">
				<label>Job Status</label>
				<select name="status" class="form-control" ng-model="jobCtrl.jobData.active"  ng-required="true">
					<option value="0">Pending</option>
					<option value="1">Active</option>
					<option value="2">Filled By Modio</option>
					<option value="3">Closed by Client</option>
				</select>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-7">
				<label>Facility</label>
				<input type="text" class="form-control" typeahead-min-length="4" typeahead-loading="loadingLocations" ng-model="jobCtrl.jobData.facility_name" ng-required="true" typeahead="fac.facility_name as fac.facility_name for fac in appCtrl.queryFacilities($viewValue)" typeahead-on-select="jobCtrl.jobData.facility_id = $item.id" typeahead-editable="false" />
				<i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-7">
				<label>Job Title</label>
				<input class="form-control" type="text" name="job_title" ng-model="jobCtrl.jobData.job_title"  ng-required="true" />
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-10">
				<label>Job Description</label>
				<textarea class="form-control" name="job_title" ng-model="jobCtrl.jobData.description" rows="20"  ng-required="true"></textarea>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
				<label>Start Date</label>
				<p class="input-group date-picker-group" ng-show="jobCtrl.jobData.start_date || jobCtrl.opened['start']">
					<input type="text" class="form-control" datepicker-popup="{{jobCtrl.format}}" ng-model="jobCtrl.jobData.start_date" is-open="jobCtrl.opened['start']" min-date="jobCtrl.minDate" datepicker-options="jobCtrl.dateOptions" close-text="Close" clear-text="ASAP" readonly />
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="jobCtrl.open($event,'start')"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
				</p>
				<button class="btn btn-success btn-block" ng-show="!jobCtrl.jobData.start_date && !jobCtrl.opened['start']" ng-click="jobCtrl.open($event,'start')">ASAP</button>
				
			</div>
			
			<div class="col-md-3">
				<label>End Date</label>
				<p class="input-group date-picker-group" ng-show="jobCtrl.jobData.end_date || jobCtrl.opened['end']">
					<input type="text" class="form-control" datepicker-popup="{{jobCtrl.format}}" ng-model="jobCtrl.jobData.end_date" is-open="jobCtrl.opened['end']" min-date="jobCtrl.minDate" datepicker-options="jobCtrl.dateOptions" close-text="Close" readonly clear-text="Ongoing" />
					<span class="input-group-btn">
						<button type="button" class="btn btn-default" ng-click="jobCtrl.open($event,'end')"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
				</p>
				<button class="btn btn-success btn-block" ng-show="!jobCtrl.jobData.end_date && !jobCtrl.opened['end']" ng-click="jobCtrl.open($event,'end')">Ongoing</button>
			</div>
			<div class="col-md-3">
				<label>Partner Job ID</label>
				<input class="form-control" type="text" ng-model="jobCtrl.jobData.partner_job_number"  ng-required="false" />
			</div>
			<div class="col-md-3">
				<label>Partner Job Contact</label>
				<input class="form-control" type="text" ng-model="jobCtrl.jobData.partner_job_contact"  ng-required="false" />
			</div>
		</div>
		<div class="row"><div class="col-sm-12"><hr /></div></div>
		<div class="row">
			<div class="col-sm-12">
				<h4>Rates</h4>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-2 form-group">
				<label>Standard Daily</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.standard_daily" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Standard Hourly</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.standard_hourly" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Weekend Daily</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.weekend_daily" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Weekday Daily</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.weekday_daily" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Weekday Call</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.weekday_call" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Weekend Call</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.weekend_call" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Outside Defined Shifts</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.outside_defined_shifts" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Holiday Premium</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.holiday_premium" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Callback</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.callback" />
			</div>
			<div class="col-xs-2 form-group">
				<label>Salary</label>
				<input type="number" class="form-control" ng-model="jobCtrl.jobData.salary" />
			</div>
		</div>
		<div class="row"><div class="col-sm-12"><hr /></div></div>
		<div class="row">
			<div class="col-sm-12">
				<h4>Requirements</h4>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-3 form-group">
				<label>FMG OK?</label>
				<input type="checkbox" ng-model="jobCtrl.jobData.fmg_accepted" ng-true-value="1" ng-false-value="0" />
			</div>
			<div class="col-xs-3 form-group">
				<label>Visa Required?</label>
				<input type="checkbox" ng-model="jobCtrl.jobData.visa_required" ng-true-value="1" ng-false-value="0" />
			</div>
			<div class="col-xs-3 form-group">
				<label>BC/BE Required?</label>
				<input type="checkbox" ng-model="jobCtrl.jobData.bc_be" ng-true-value="1" ng-false-value="0" />
			</div>
		</div>
		<div class="modal-footer"> 
			<button class="btn btn-primary" role="submit" ng-disabled="edit_job_form.$invalid">OK</button> 
			<button class="btn btn-danger" role="button" type="button" ng-really-click="jobCtrl.delete()" ng-really-message="Are you sure you want to delete this doctor?">Delete</button> 
			<button class="btn btn-warning" role="button" type="button" ng-click="appCtrl.goTo('/jobs')">Cancel</button> 
		</div>
	</form>
</section>