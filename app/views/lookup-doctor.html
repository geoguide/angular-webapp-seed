<script>
	var LookupDoctor = function(params) {
	if(params){
		this.claim_id = params.claim_id;
		this.full_name = params.full_name;
		this.npi = params.npi;
		this.specialty = params.specialty;
		this.primary_license_state = params.primary_license_state;
		this.primary_license_number = params.primary_license_number;
		this.additional_licenses_data = params.additional_licenses_data;
		this.practice_name = params.practice_name;
		this.practice_address = params.practice_address;
		this.practice_address_2 = params.practice_address_2;
		this.practice_city = params.practice_city;
		this.practice_state = params.practice_state;
		this.practice_zip = params.practice_zip;
		this.practice_phone = params.practice_phone;
		this.graduation_year = params.graduation_year;
		this.medical_school = params.graduation_school;
		this.dea_registration_number = params.dea_registration_number;
		this.dea_drug_schedule = params.dea_drug_schedule;
		this.source = params.source;
		this.dea_number_expiration_date = params.dea_number_expiration_date;
		this.primary_hospital_affiliation = params.primary_hospital_affiliation;
	}

	this.model = function(dataIn) { return JSON.parse(JSON.stringify(new LookupDoctor(dataIn))); };
};
</script>
<section id="lookup-doctor-info">

	<h3 id="no-data" ng-show="!lookdoc.doctorData" class="ng-cloak">Record Not Found</h3>
	<section class="row">
		<div class="col-md-6">
			<h3>Lookup Doctor Info</h3>
		</div>
	</section>
	<form id="lookup-doctor-form" ng-submit="lookdoc.save()" ng-show="lookdoc.doctorData" class="ng-cloak">
		<div class="row">
			<div class="form-group col-md-4">
				<label>Full Name</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.full_name">
			</div>
			<div class="form-group col-md-2">
				<label>NPI</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.npi">
			</div>
			<div class="form-group col-md-2">
				<label>Specialty</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.specialty">
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-4">
				<label>Practice Name</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.practice_name">
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-2">
				<label>Practice Address</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.practice_address">
			</div>
			<div class="form-group col-md-2">
				<label>Practice Address 2</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.practice_address_2">
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-2">
				<label>Practice City</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.practice_city">
			</div>
			<div class="form-group col-md-2">
				<label>Practice State</label>
				<select class="form-control" ng-model="lookdoc.doctorData.practice_state">
					<option value="AL">AL</option> <option value="AK">AK</option> <option value="AZ">AZ</option> <option value="AR">AR</option> <option value="CA">CA</option> <option value="CO">CO</option> <option value="CT">CT</option> <option value="DE">DE</option> <option value="DC">DC</option> <option value="FL">FL</option> <option value="GA">GA</option> <option value="HI">HI</option> <option value="ID">ID</option> <option value="IL">IL</option> <option value="IN">IN</option> <option value="IA">IA</option> <option value="KS">KS</option> <option value="KY">KY</option> <option value="LA">LA</option> <option value="ME">ME</option> <option value="MD">MD</option> <option value="MA">MA</option> <option value="MI">MI</option> <option value="MN">MN</option> <option value="MS">MS</option> <option value="MO">MO</option> <option value="MT">MT</option> <option value="NE">NE</option> <option value="NV">NV</option> <option value="NH">NH</option> <option value="NJ">NJ</option> <option value="NM">NM</option> <option value="NY">NY</option> <option value="NC">NC</option> <option value="ND">ND</option> <option value="OH">OH</option> <option value="OK">OK</option> <option value="OR">OR</option> <option value="PA">PA</option> <option value="RI">RI</option> <option value="SC">SC</option> <option value="SD">SD</option> <option value="TN">TN</option> <option value="TX">TX</option> <option value="UT">UT</option> <option value="VT">VT</option> <option value="VA">VA</option> <option value="WA">WA</option> <option value="WV">WV</option> <option value="WI">WI</option> <option value="WY">WY</option>
				</select>
			</div>
			<div class="form-group col-md-2">
				<label>Practice Zip</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.practice_zip" ui-mask="99999">
			</div>
			<div class="form-group col-md-2">
				<label>Practice Phone</label>
				<input type="text" class="form-control" ui-mask="(999) 999-9999" ng-model="lookdoc.doctorData.practice_phone">
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-2">
				<label>Medical School</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.medical_school">
			</div>
			<div class="form-group col-md-2">
				<label>Graduation Year</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.graduation_year" ui-mask="9999">
			</div>
		</div>
		<!--<div class="row">
			<div class="form-group col-md-2">
				<label>Primary License State</label>
				<select class="form-control" ng-model="lookdoc.doctorData.primary_license_state">
					<option value="AL">AL</option> <option value="AK">AK</option> <option value="AZ">AZ</option> <option value="AR">AR</option> <option value="CA">CA</option> <option value="CO">CO</option> <option value="CT">CT</option> <option value="DE">DE</option> <option value="DC">DC</option> <option value="FL">FL</option> <option value="GA">GA</option> <option value="HI">HI</option> <option value="ID">ID</option> <option value="IL">IL</option> <option value="IN">IN</option> <option value="IA">IA</option> <option value="KS">KS</option> <option value="KY">KY</option> <option value="LA">LA</option> <option value="ME">ME</option> <option value="MD">MD</option> <option value="MA">MA</option> <option value="MI">MI</option> <option value="MN">MN</option> <option value="MS">MS</option> <option value="MO">MO</option> <option value="MT">MT</option> <option value="NE">NE</option> <option value="NV">NV</option> <option value="NH">NH</option> <option value="NJ">NJ</option> <option value="NM">NM</option> <option value="NY">NY</option> <option value="NC">NC</option> <option value="ND">ND</option> <option value="OH">OH</option> <option value="OK">OK</option> <option value="OR">OR</option> <option value="PA">PA</option> <option value="RI">RI</option> <option value="SC">SC</option> <option value="SD">SD</option> <option value="TN">TN</option> <option value="TX">TX</option> <option value="UT">UT</option> <option value="VT">VT</option> <option value="VA">VA</option> <option value="WA">WA</option> <option value="WV">WV</option> <option value="WI">WI</option> <option value="WY">WY</option>
				</select>
			</div>
			<div class="form-group col-md-3">
				<label>Primary License #</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.primary_license_number">
			</div>
			<div class="form-group col-md-3">
				<label>Additional Licenses Data</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.additional_licenses_data">
			</div>
		</div>-->

		<div class="row">
			<div class="form-group col-md-2">
				<label>DEA #</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.dea_registration_number">
			</div>
			<div class="form-group col-md-2">
				<label>DEA Schedule</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.dea_drug_schedule">
			</div>
			<div class="form-group col-md-2">
				<label>DEA Expiration</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.dea_number_expiration_date">
			</div>
		</div>
		<div class="row">
			<div class="form-group col-md-4">
				<label>Primary Hospital Affiliation</label>
				<input type="text" class="form-control" ng-model="lookdoc.doctorData.primary_hospital_affiliation">
			</div>
			<div class="form-group col-md-2">
				<label>Source</label>
				<select class="form-control" ng-model="lookdoc.doctorData.source">
					<option value="0">Somewhere</option>
				</select>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 text-right">
				<div class="form-group">
					<button type="button" class="btn btn-danger" ng-really-message="Are you sure?" ng-really-click="lookdoc.delete()">Delete</button>
					<button type="submit" class="btn btn-primary">Submit</button>
				</div>
			</div>
		</div>
	</form>

	<section class="row">
		<div class="col-md-6">
			<h3>Lookup Doctor Licenses</h3>
		</div>
	</section>

	<article ng-repeat="obj in lookdoc.licenseData">
		<div><h4>{{obj.id}}</h4></div>
		<div><h4>NPI:{{obj.npi}}</h4></div>
		<div><strong>#{{obj.license_number}}</strong> in <strong>{{obj.license_state}}</strong></div>
		<div>
      <button ng-show="obj.primary_license===1" class="btn btn-success">Primary</button>
      <button ng-show="obj.primary_license===0" class="btn btn-info" ng-click="lookdoc.setPrimaryLicense(obj)">Make Primary</button>
    </div>
		<div>Exp: {{obj.expiration_date}}</div>
		<div class="text-right">
			<a class="btn btn-info" ng-click="lookdoc.openModal('license-modal',obj)">Edit</a>
			<button class="btn btn-danger" ng-really-message="Are you sure?" ng-really-click="lookdoc.deleteLicense(obj.id)">Delete</button>
		</div>
		<hr />
	</article>
	<div class="row">
		<div class="col-md-12 text-right">
			<button class="btn btn-primary" ng-click="lookdoc.openModal('license-modal',{})">Add License</button>
		</div>
	</div>


</section>


<!-- Modals --->


<script type="text/ng-template" id="license-modal">
	<div class="modal-header">
		<h3 class="modal-title">{{modal.title}}</h3>
	</div>
	<div class="modal-body">
		<form novalidate>
			<div class="row">
				<!--<div class="form-group col-xs-6">
					<label>NPI</label>
					<input type="text" class="form-control" ng-model="modal.modalObject.npi" />
				</div>-->
				<div class="form-group col-xs-6">
					<label>Primary</label>
					<select class="form-control" ng-disabled="true" ng-model="modal.modalObject.primary_license">
						<option value="0">No</option>
						<option value="1">Yes</option>
					</select>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-xs-6">
					<label>License Number</label>
					<input type="text" class="form-control" ng-model="modal.modalObject.license_number" />
				</div>
				<div class="form-group col-xs-6">
					<label>State</label>
					<select class="form-control" ng-model="modal.modalObject.license_state">
						<option value="AL">AL</option> <option value="AK">AK</option> <option value="AZ">AZ</option> <option value="AR">AR</option> <option value="CA">CA</option> <option value="CO">CO</option> <option value="CT">CT</option> <option value="DE">DE</option> <option value="DC">DC</option> <option value="FL">FL</option> <option value="GA">GA</option> <option value="HI">HI</option> <option value="ID">ID</option> <option value="IL">IL</option> <option value="IN">IN</option> <option value="IA">IA</option> <option value="KS">KS</option> <option value="KY">KY</option> <option value="LA">LA</option> <option value="ME">ME</option> <option value="MD">MD</option> <option value="MA">MA</option> <option value="MI">MI</option> <option value="MN">MN</option> <option value="MS">MS</option> <option value="MO">MO</option> <option value="MT">MT</option> <option value="NE">NE</option> <option value="NV">NV</option> <option value="NH">NH</option> <option value="NJ">NJ</option> <option value="NM">NM</option> <option value="NY">NY</option> <option value="NC">NC</option> <option value="ND">ND</option> <option value="OH">OH</option> <option value="OK">OK</option> <option value="OR">OR</option> <option value="PA">PA</option> <option value="RI">RI</option> <option value="SC">SC</option> <option value="SD">SD</option> <option value="TN">TN</option> <option value="TX">TX</option> <option value="UT">UT</option> <option value="VT">VT</option> <option value="VA">VA</option> <option value="WA">WA</option> <option value="WV">WV</option> <option value="WI">WI</option> <option value="WY">WY</option>
					</select>
				</div>
			</div>

			<div class="row">
				<div class="col-md-6">
					<label>Expiration Date</label>
					<div class="input-group">
						<input readonly type="text" class="form-control" datepicker-popup="MM/dd/yyyy" ng-model="modal.modalObject.expiration_date" is-open="modal.parentCtrl.opened['expiration_date']" min-date="'01/01/1915'" max-date="modal.parentCtrl.today" ng-required="true" close-text="Close" />
						<span class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="modal.parentCtrl.open($event,'expiration_date')"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</div>
				</div>
			</div>
	</div>
	<div class="modal-footer">
		<input type="hidden" ng-model="modal.modalObject.id" />
		<button class="btn btn-primary" ng-click="modal.ok()">OK</button>
		<button class="btn btn-warning" ng-click="modal.cancel()">Cancel</button>
	</div>
</script>
